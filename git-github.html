<!DOCTYPE html>
<html>
  
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta name="google-site-verification" content="K9Kc9nC902w9IT9WrD90X0j_JC-lo7h8zWfMcemjbAo">
  <meta name="author" content="Chase">
  
  
  <title>git&amp;github的使用 | Chase</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="git&amp;github,">
  

  
  <meta name="description" content="这里是Chase拉">

  

  
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.11.1/dist/av-min.js" async></script>
  

  
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
  

  
    <script src="//unpkg.com/valine/dist/Valine.min.js" async></script>
  

  
    <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
  

  <script>
  // theme-ad's config script
  // it can be used in every script
  
  window.AD_CONFIG = {
    leancloud: {"appid":"gQuuMEsq37q4DsnhTauYOsPc-gzGzoHsz","appkey":"PG39cJtCXneMhQDdmjIx9EqO","comment":true,"count":true},
    welcome: {"enable":true,"interval":30},
    start_time: "2019-04-18",
    passwords: ["18f9e58fdb6b216c32c36b180d460fb1c53fd88cb298cc12c8177c6229883091", ],
    is_post: true,
    lock: false,
    author: "Chase",
    share: {"twitter":true,"facebook":true,"weibo":true,"qq":true,"wechat":true},
    mathjax: true,
    page_type: "",
    root: "/"
  };
</script>

  <script src="/vendor/sha256.min.js"></script>
<script src="/js/auth.js"></script>
<script src="/js/index.js"></script>
<script src="/vendor/qrcode.min.js"></script>

  
    <link rel="icon" href="/images/favicon.ico">
    <link rel="apple-touch-icon" href="/images/touch-icon.png">
  

  <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/css/index.css">
<link rel="stylesheet" href="/styles/components/highlight/highlight.css">

  
</head>
  <body>
    <header class="site-header">
  <div class="site-header-brand">
    
      <span class="site-header-brand-title">
        <a href="/">Chase</a>
      </span>
    
    
      <span class="site-header-brand-motto"> | 那些路上的脚印，永远不会被隐藏</span>
    
  </div>
  <div class="site-header-right">
    <nav class="site-header-navigation">
      
        <a href="/" target="_self">首页</a>
      
        <a href="/archives/" target="_self">归档</a>
      
        <a href="/tags/" target="_self">标签</a>
      
        <a href="/categories/" target="_self">分类</a>
      
        <a href="/friends/" target="_self">友链</a>
      
        <a href="/about/" target="_self">关于</a>
      
    </nav>
    <div class="site-header-btn">
      
        <a href="https://shanqianyouyu.github.io/" target="_blank" id="site-github">
          <i class="fa fa-github-alt"></i>
        </a>
      
      <a href="javascript:void(0);" id="site-search">
        <i class="fa fa-search"></i>
      </a>
      <a href="javascript:void(0);" id="site-nav-btn">
        <i class="fa fa-ellipsis-v"></i>
      </a>
    </div>
  </div>
</header>
<nav class="table-content" id="site-nav">
  <div class="table-content-title">
    <span>导航</span>
  </div>
  <div class="table-content-main">
    <ol class="toc">
      
        <li class="toc-item">
          <a href="/" target="_self">
            首页
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/archives/" target="_self">
            归档
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/tags/" target="_self">
            标签
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/categories/" target="_self">
            分类
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/friends/" target="_self">
            友链
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/about/" target="_self">
            关于
          </a>
        </li>
      
    </ol>
  </div>
</nav>
<div id="site-process"></div>
    <main>
      
  <div class="passage">
  <div class="passage-meta">
    <span>
      <i class="fa fa-calendar"></i>2019-05-11
    </span>
    
    
      <span>
        | <i class="fa fa-unlock-alt"></i>UNLOCK
      </span>
    
  </div>
  <h1 class="passage-title">
    git&github的使用
  </h1>
  
  <article class="passage-article">
    <blockquote>
<p>git真的是一个很方便的一个工具，非常值得学习，而且搭配github使用或者是多人项目的开发，真的是很牛x。</p>
</blockquote>
<h1 id="分布式与集中式"><a href="#分布式与集中式" class="headerlink" title="分布式与集中式"></a>分布式与集中式</h1><p>学习之前了解一下分布式与集中式<br>假如我们要办一件事,一个人包揽就是集中式，一件事分成几个部分分成几个人做就是分布式，二者最取得的效果是一样的。<br>比如一个javaweb的项目,我们把它简单的分成web页面服务:数据库服务，service服务。</p>
<blockquote>
<p>集中式: 我们将它部署在服务器上，如果服务器出了问题，这个网站就崩了。</p>
</blockquote>
<blockquote>
<p>分布式: 上面的三个，我们用独立服务器放，同一类我们还可以用多个服务器组成，即使一个崩了，还有其他的服务器顶着。</p>
</blockquote>
<p>集中式版本控制: 版本库存放在中央服务器，每次工作都要从中央服务器取出最新的版本，修改以后再提交上去，一旦服务器崩了，或者没网了，工作无法执行。<br>分布式版本控制: 没有中央服务器，每个人的电脑上都有一个完整的版本库，每次工作完以后只要将每次的修改提交给对方就行了。</p>
<h1 id="git的使用"><a href="#git的使用" class="headerlink" title="git的使用"></a>git的使用</h1><h2 id="git使用前的最小配置"><a href="#git使用前的最小配置" class="headerlink" title="git使用前的最小配置"></a>git使用前的最小配置</h2><blockquote>
<p>git config –global user.name ‘your_name’<br>git config –global user.email <a href="mailto:&#39;your_email@domain.com" target="_blank" rel="noopener">&#39;your_email@domain.com</a>‘<br>缺省等同于local</p>
<ul>
<li>git config –local        local只对某个仓库有效</li>
<li>git config –global       global对当前用户的所有仓库有效</li>
<li>git config –system       system对系统所有登录的用户有效</li>
</ul>
</blockquote>
<blockquote>
<p>在当前仓库中，如果设置了local的话，local优先级要高，system指令用不上</p>
</blockquote>
<p>查看一些配置信息：</p>
<ul>
<li>git config –list –local     只在某一个仓库有效</li>
<li>git config –list –global    所有仓库有效</li>
<li>git config –list –system</li>
</ul>
<h2 id="了解工作区，暂存区，历史版本库"><a href="#了解工作区，暂存区，历史版本库" class="headerlink" title="了解工作区，暂存区，历史版本库"></a>了解工作区，暂存区，历史版本库</h2><p><img src="/img/git-github/三个分区.png" alt="分区"></p>
<h3 id="git是如何保存数据的"><a href="#git是如何保存数据的" class="headerlink" title="git是如何保存数据的"></a>git是如何保存数据的</h3><p>git存储文件的方式不是存储文件的变化或者差异，他存储的是一系列不同时刻文件的 <strong>快照</strong> .例如，每次你执行 <kbd>git add</kbd> 或者 <kbd>git commmit</kbd> 操作，就会将文件压缩成一个二进制文件，这就是一个Git对象，存在于 ==.git/objects== 目录下。文件的名字是用SHA1算法计算的一个hash值(长度40的字符串)， ==.git/objects== 下成一个子目录，前两个字符是子目录名，后38位是文件名。</p>
<h2 id="git文件"><a href="#git文件" class="headerlink" title=".git文件"></a>.git文件</h2><p>两个比较重要的文件:</p>
<blockquote>
<p>refs/ </p>
<blockquote>
<p>heads    -分支       (例如：前端分支，后端分支，两者互不影响)<br>tags       -里程碑     (标签)</p>
</blockquote>
<p>HEAD      - 查看当前仓库在哪个分支上<br>conig     - 仓库信息<br>objects   - 存储每次操作的二进制文件</p>
</blockquote>
<h2 id="git中文件的几种状态"><a href="#git中文件的几种状态" class="headerlink" title="git中文件的几种状态"></a>git中文件的几种状态</h2><blockquote>
<p>Untracked:   未跟踪, 此文件在文件夹中, 但并没有加入到git库, 不参与版本控制. 通过<kbd>git add</kbd> 状态变为Staged.</p>
</blockquote>
<blockquote>
<p>Unmodify: 文件已经入库, 未修改, 即版本库中的文件快照内容与文件夹中完全一致. 这种类型的文件有两种去处, 如果它被修改, 而变为Modified.</p>
</blockquote>
<blockquote>
<p>Modified: 文件已修改, 仅仅是修改, 并没有进行其他的操作. 这个文件也有两个去处, 通过git add可进入暂存staged状态, 使用<kbd>git checkout</kbd> 则丢弃修改过,返回到unmodify状态, 这个<kbd>git checkout</kbd>即从库中取出文件, 覆盖当前修改</p>
</blockquote>
<blockquote>
<p>Staged: 暂存状态. 执行<kbd>git commit</kbd>则将修改同步到库中, 这时库中的文件和本地文件又变为一致, 文件为Unmodify状态. 执行<kbd>git reset HEAD filename </kbd> 取消暂存,文件状态为Modified</p>
</blockquote>
<h2 id="git的常用操作"><a href="#git的常用操作" class="headerlink" title="git的常用操作"></a>git的常用操作</h2><h3 id="1-查看工作区状态"><a href="#1-查看工作区状态" class="headerlink" title="1. 查看工作区状态"></a>1. 查看工作区状态</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>
<h3 id="2-工作区提交到暂存区"><a href="#2-工作区提交到暂存区" class="headerlink" title="2. 工作区提交到暂存区"></a>2. 工作区提交到暂存区</h3><p>对暂存区文件的修改：添加，删除，更新<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;file-name&gt;</span><br><span class="line">git add .                   //提交所有文件</span><br><span class="line"></span><br><span class="line">git add --ignore-removal    //不提交删除文件</span><br><span class="line">git add -u                  //不提交新文件</span><br></pre></td></tr></table></figure></p>
<h3 id="3-暂存区提交到版本库"><a href="#3-暂存区提交到版本库" class="headerlink" title="3. 暂存区提交到版本库"></a>3. 暂存区提交到版本库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">'message'</span></span><br></pre></td></tr></table></figure>
<h3 id="4-查看历史版本"><a href="#4-查看历史版本" class="headerlink" title="4. 查看历史版本"></a>4. 查看历史版本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span>                             //查看所有版本历史</span><br><span class="line">git <span class="built_in">log</span> &lt;branch-name&gt;               //查看当前分支</span><br><span class="line">git <span class="built_in">log</span> --graph                     //以图的形式查看版本历史</span><br><span class="line">git <span class="built_in">log</span> --oneline                   //省略一些信息，一次commit只展示一行</span><br></pre></td></tr></table></figure>
<h3 id="5-比较文件差异"><a href="#5-比较文件差异" class="headerlink" title="5. 比较文件差异"></a>5. 比较文件差异</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git diff [--&lt;file-nameA&gt; [&lt;file-nameB&gt;]]                //比较工作区与暂存区差异，加文件名就只比较文件(可以比多个)的差异</span><br><span class="line"></span><br><span class="line">git diff -cached [--&lt;file-nameA&gt; [&lt;file-nameB&gt;]]        //比较暂存区与head指针所含文件的差异</span><br></pre></td></tr></table></figure>
<h3 id="6-删除工作区和暂存区文件"><a href="#6-删除工作区和暂存区文件" class="headerlink" title="6. 删除工作区和暂存区文件"></a>6. 删除工作区和暂存区文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm &lt;file-name&gt;</span><br></pre></td></tr></table></figure>
<h3 id="7-工作区同步与暂存区一样"><a href="#7-工作区同步与暂存区一样" class="headerlink" title="7. 工作区同步与暂存区一样"></a>7. 工作区同步与暂存区一样</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- &lt;file-nameA&gt; [file-nameB]</span><br><span class="line">git checkout -- *</span><br></pre></td></tr></table></figure>
<h3 id="8-暂存区同步与历史版本库一样"><a href="#8-暂存区同步与历史版本库一样" class="headerlink" title="8. 暂存区同步与历史版本库一样"></a>8. 暂存区同步与历史版本库一样</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset &lt;branch-name&gt;                     //同步到某一个分支</span><br><span class="line">git reset HEAD -- &lt;filenameA&gt; [filenameB]   //同步到某一个分支的一个或者多个文件</span><br></pre></td></tr></table></figure>
<h3 id="9-版本回溯"><a href="#9-版本回溯" class="headerlink" title="9. 版本回溯"></a>9. 版本回溯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --soft &lt;commit-id&gt;</span><br><span class="line">git reset --hard &lt;commit-id&gt;</span><br></pre></td></tr></table></figure>
<table style="text-align:center"><br>   <tr><br>      <td colspan="4"> git reset 影响范围</td><br>   </tr><br>   <tr><br>      <td>指令</td><br>      <td>HEAD</td><br>      <td>暂存区</td><br>      <td>工作区</td><br>   </tr><br>   <tr><br>      <td>–soft</td><br>      <td>是</td><br>      <td>否</td><br>      <td>否</td><br>   </tr><br>   <tr><br>      <td>–mixed</td><br>      <td>是</td><br>      <td>是</td><br>      <td>否</td><br>   </tr><br>   <tr><br>      <td>–hard</td><br>      <td>是</td><br>      <td>是</td><br>      <td>是</td><br>   </tr><br></table>


<h3 id="10-合并分支"><a href="#10-合并分支" class="headerlink" title="10.  合并分支"></a>10.  合并分支</h3><p>– 基于 <strong>merge</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge &lt;merge-nameA&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge --abort   //如果不想合并，此命令会返回合并之前的状态</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>fast-forward(快进)与non-fast-forward</strong><br>分支合并，其中一个分支，是另外一个分支的父分支，叫做fast-forward，否则就是non-fast-forward</p>
</blockquote>
<blockquote>
<p><a href="https://blog.csdn.net/u012937029/article/details/77161584" target="_blank" rel="noopener">merge操作</a>：利用三路合并算法，merge结果与时间先后无关，就是两个人分支会找到一个基准Base(历史版本中的某一次commit,简单情况下就是分支分叉的位置)，如果两个文件相对于Base都不一样，就会产生冲突，需要手动解决。查看两个分支的Base命令： <strong>git merge-base \&lt;merge-nameA> \&lt;merge-name-B></strong>。<a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%AB%98%E7%BA%A7%E5%90%88%E5%B9%B6#r_merge_log" target="_blank" rel="noopener">merge之前的文件在merge过程中可以导出查看</a>。</p>
</blockquote>
<p>– 基于 <strong>rebase</strong>的变基操作</p>
<blockquote>
<p>将一个分支的修改移到另外一个分支上，好像”重新播放”一样.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git rebase &lt;branchA&gt;        //相当于在B分支上，把B整合到A上，A，B最近的共同父分支(就是分叉的位置)往后的B分支都不见了，会在A分支后生成一段新的提交。这样，提交历史就是一条干净的直线了。</span><br><span class="line"></span><br><span class="line">//如果发生冲突</span><br><span class="line">git add .</span><br><span class="line">git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></table></figure>
<p>最好是在提交到远程仓库之前之前，将自己的版本库进行一次变基操作，再向主项目提交。<br><strong>变基操作的准则：不要对在你的仓库外有副本的分支执行变基。</strong></p>
<h3 id="11-修改工作区和暂存区文件名"><a href="#11-修改工作区和暂存区文件名" class="headerlink" title="11. 修改工作区和暂存区文件名"></a>11. 修改工作区和暂存区文件名</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git mv &lt;old-name&gt; &lt;new-name&gt;</span><br></pre></td></tr></table></figure>
<h3 id="12-关于分支的操作"><a href="#12-关于分支的操作" class="headerlink" title="12. 关于分支的操作"></a>12. 关于分支的操作</h3><p>– 创建分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch &lt;new-branch-name&gt;</span><br></pre></td></tr></table></figure>
<p>– 查看分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch [-v]</span><br></pre></td></tr></table></figure>
<p>– 切换分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;branch-name&gt;</span><br></pre></td></tr></table></figure>
<p>– 删除分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d &lt;branch-name&gt;</span><br></pre></td></tr></table></figure>
<h3 id="13-将多个commit整理成一个commit"><a href="#13-将多个commit整理成一个commit" class="headerlink" title="13. 将多个commit整理成一个commit"></a>13. 将多个commit整理成一个commit</h3><p>– 不连续的commit<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i &lt;要整合的最早的一个commit&gt;</span><br></pre></td></tr></table></figure></p>
<p>演示：<br>先看一段版本历史:<br><img src="/img/git-github/rebase版本历史.png" alt="版本历史"><br>容易看出版本号为： d09341c ，e3a6b32 ，603e2b3 都是对readme.md的操作，我们想整理成一次commit。<br>先找到要整合的最早的commit的版本号 为 603e2b3<br>执行：<kbd>git rebase -i 603e2b3<kbd><br>进入界面:<br><img src="/img/git-github/rebase版本编辑.png" alt="版本历史"><br>修改后：<br>注意看p,s均为简写，下方有注释<br><img src="/img/git-github/修改后的rebase编辑.png" alt="版本历史"></kbd></kbd></p>
<p>退出后，执行 <kbd>git rebase –continue<kbd></kbd></kbd></p>
<p>进入界面：<br><img src="/img/git-github/rebase编辑注释前.png" alt="版本历史"><br>添加注释：<br><img src="/img/git-github/rebase编辑添加注释后.png" alt="版本历史"></p>
<p>– 连续的commit<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i &lt;整合的最早的一个commit&gt;</span><br></pre></td></tr></table></figure></p>
<p>类似上方，更简单。</p>
<h3 id="14-消除最近的几个commit"><a href="#14-消除最近的几个commit" class="headerlink" title="14. 消除最近的几个commit"></a>14. 消除最近的几个commit</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard &lt;commit-number&gt;        //工作区和暂存区都会恢复成指定的commit版本号的内容(慎用)</span><br></pre></td></tr></table></figure>
<h3 id="15-开发中如果紧急加塞怎么处理"><a href="#15-开发中如果紧急加塞怎么处理" class="headerlink" title="15. 开发中如果紧急加塞怎么处理"></a>15. 开发中如果紧急加塞怎么处理</h3><p>git stash会将此时工作区和暂存区的内容压入Git的栈中，工作区就是干净的了，此时工作区的内容会和上次的commit内容一样。来避免一次脏提交。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git stash:                      //备份当前的工作区和暂存区的已经被track的文件，保存到Git栈中。从最近的一次提交中读取相关内容，让工作区保证和上次提交</span><br><span class="line">git stash save <span class="string">"message"</span>        //同上并添加备注信息</span><br><span class="line">git stash list:                 //显示git栈内的所有备份，可以利用这个列表来决定从那个地方恢复。</span><br><span class="line">git stash pop stash@&#123;0&#125;         //从git栈中读取并恢复工作区，然后删除对应的记录，默认恢复最新的（stash@&#123;0&#125;为最新）</span><br><span class="line">git stash apply stash@&#123;0&#125;       //同git stash pop，但不会删除对应的记录</span><br><span class="line">git stash clear                 //清空git栈。此时使用gitg等图形化工具会发现，原来stash的哪些节点都消失了。</span><br></pre></td></tr></table></figure></p>
<h1 id="多人协作以及GitHub的使用"><a href="#多人协作以及GitHub的使用" class="headerlink" title="多人协作以及GitHub的使用"></a>多人协作以及GitHub的使用</h1><h2 id="git备份"><a href="#git备份" class="headerlink" title="git备份"></a>git备份</h2><p>哑协议与智能协议<br>直观区别：哑协议传输进度不可见；智能协议传输可见<br>传输速度：智能协议比哑协议传输速度快</p>
<table>
<thead>
<tr>
<th>常用协议</th>
<th>语法格式</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>本地协议（1）</td>
<td>/d/Desktop/gitcommit/commit2/.git</td>
<td>哑协议</td>
</tr>
<tr>
<td>本地协议（2）</td>
<td>file:///d/Desktop/gitcommit/commit2/.git</td>
<td>智能协议</td>
</tr>
<tr>
<td>http/https协议</td>
<td><a href="https://github.com/name/learngit.git" target="_blank" rel="noopener">https://github.com/name/learngit.git</a></td>
<td>平时接触到的都是智能协议</td>
</tr>
<tr>
<td>ssh协议</td>
<td><a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:name/learngit.git</td>
<td>工作中最常用的智能协议</td>
</tr>
</tbody>
</table>
<h2 id="多人协作"><a href="#多人协作" class="headerlink" title="多人协作"></a>多人协作</h2><h3 id="git-clone的使用"><a href="#git-clone的使用" class="headerlink" title="git clone的使用"></a>git clone的使用</h3><ul>
<li>git clone &lt;版本库的网址&gt; [file-name]<br>如果附带[file-name]，则会生成一个目录名字为[file-name]，默认则为版本库的名字。(注意网址后面是附带.git的)</li>
</ul>
<h3 id="git-remote的使用"><a href="#git-remote的使用" class="headerlink" title="git remote的使用"></a>git remote的使用</h3><ul>
<li>git remote [-v]<br>查看远程主机 [与网址]</li>
<li>git remote add &lt;主机名&gt; &lt;网址&gt;<br>添加主机</li>
<li>git remote rename &lt;原主机名&gt; &lt;新主机名&gt;<br>修改主机名字</li>
<li>git remote rm &lt;主机名&gt;<br>删除主机</li>
<li>git remote show &lt;主机名&gt;<br>查看主机信息</li>
</ul>
<h3 id="git-fetch的使用"><a href="#git-fetch的使用" class="headerlink" title="git fetch的使用"></a>git fetch的使用</h3><ul>
<li>git fetch &lt;远程主机名&gt; [分支名]<br>取回远程主机所有分支的更新(若附带括号则取指定分支名的更新)</li>
</ul>
<h3 id="git-push的使用"><a href="#git-push的使用" class="headerlink" title="git push的使用"></a>git push的使用</h3><p>git push &lt;远程主机名&gt; [远程分支名]:[本地分支名]</p>
<h3 id="git-pull的使用"><a href="#git-pull的使用" class="headerlink" title="git pull的使用"></a>git pull的使用</h3><ul>
<li>git pull &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;<br>取回远程主机的指定分支，并与指定本地分支合并(一个git pull操作等于先git fetch再git merge)</li>
</ul>
<blockquote>
<p>在git clone的过程中，Git会在本地分支与远程分支之间建立一种追踪关系(tracking)。例如，git clone过程中，所有本地分支默认与远程主机的同名分支，建立追踪关系，也就是说，本地的master分支自动”追踪”origin/master分支。</p>
</blockquote>
<p>Git也允许手动建立追踪关系</p>
<blockquote>
<p>git branch –set-upstream &lt;本地分支名&gt; &lt;远程仓库名&gt;/&lt;远程分支名&gt;</p>
</blockquote>
<p>如果当前分支与远程分支存在追踪关系，git pull就可以省略远程分支名。</p>
<blockquote>
<p>git pull &lt;远程仓库名&gt;</p>
</blockquote>
<h3 id="第一次提交到非空GitHub仓库"><a href="#第一次提交到非空GitHub仓库" class="headerlink" title="第一次提交到非空GitHub仓库"></a>第一次提交到非空GitHub仓库</h3><p>例如：github初始化时，带有readme和<a href="http://www.ruanyifeng.com/blog/2011/05/how_to_choose_free_software_licenses.html" target="_blank" rel="noopener">开源协议</a><br>记得git pull一下</p>
<h3 id="不同人的人修改了不同的文件"><a href="#不同人的人修改了不同的文件" class="headerlink" title="不同人的人修改了不同的文件"></a>不同人的人修改了不同的文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git push github chase</span><br><span class="line">To github.com:shanqianyouyu/Learning.git</span><br><span class="line"> ! [rejected]        chase -&gt; chase (non-fast-forward)</span><br><span class="line">error: failed to push some refs to <span class="string">'git@github.com:shanqianyouyu/Learning.git'</span></span><br><span class="line">hint: Updates were rejected because the tip of your current branch is behind</span><br><span class="line">hint: its remote counterpart. Integrate the remote changes (e.g.</span><br><span class="line">hint: <span class="string">'git pull ...'</span>) before pushing again.</span><br><span class="line">hint: See the <span class="string">'Note about fast-forwards'</span> <span class="keyword">in</span> <span class="string">'git push --help'</span> <span class="keyword">for</span> details.</span><br></pre></td></tr></table></figure>
<p>先 merge一下再push</p>
<h3 id="不同的人修改了相同文件的不同位置"><a href="#不同的人修改了相同文件的不同位置" class="headerlink" title="不同的人修改了相同文件的不同位置"></a>不同的人修改了相同文件的不同位置</h3><p>同上，git会自己整合</p>
<h3 id="不同的人修改了相同文件的相同位置"><a href="#不同的人修改了相同文件的相同位置" class="headerlink" title="不同的人修改了相同文件的相同位置"></a>不同的人修改了相同文件的相同位置</h3><p>同上操作，不过此时，会提示冲突，git会自己整合，但是需要自己解决冲突</p>
<h3 id="不同的人同时变更了文件名和文件内容"><a href="#不同的人同时变更了文件名和文件内容" class="headerlink" title="不同的人同时变更了文件名和文件内容"></a>不同的人同时变更了文件名和文件内容</h3><p>例如：</p>
<ol>
<li>(先)A修改 <strong>index.html</strong> 为 <strong>index.htm</strong> 并且 push到远程仓库</li>
<li>(后)B修改 <strong>index.html</strong> (B不知道文件名已经被修改了),并且修改了文件的内容，push到远端，发现错误，git pull(等同于上面的 git fetch 再 git merge) 一下，发现git自动识别出来，就是git会将B仓库下的   <strong>index.html</strong> 修改成 <strong>index.htm</strong> ，并且内容被修改，再push到远程仓库即可</li>
</ol>
<h3 id="不同的人同时修改了文件名"><a href="#不同的人同时修改了文件名" class="headerlink" title="不同的人同时修改了文件名"></a>不同的人同时修改了文件名</h3><ol>
<li>(先)A修改了 <strong>index.html</strong> 为 <strong>index1.html</strong> ,并且push到远端</li>
<li>(后)B修改 <strong>index.html</strong> 为 <strong>index2.html</strong> ，push到远端报错， <strong>git pull</strong> 到本地，发现发生冲突，这时候需要手动解决冲突， <strong>git status</strong> 会发现，工作区有两个文件 <strong>index1.html</strong> <strong>index2.html</strong> ， <strong>git status</strong> 发现暂存区提示 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">both deleted:    index.html</span><br><span class="line">added by them:   index1.html</span><br><span class="line">added by us:     index2.html</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>这时候你需要和你的同伴讨论最后的名字是哪一个，然后手动删除不需要的两个文件，提交另外一个即可，再 <strong>git push</strong> 到远程仓库。</p>
<h3 id="FETCH-HEAD"><a href="#FETCH-HEAD" class="headerlink" title="FETCH_HEAD"></a>FETCH_HEAD</h3><p>FETCH_HEAD是一个短期引用，以跟踪刚刚从远程存储库获取的内容。 git pull首先调用git fetch，在正常情况下从远程获取一个分支; FETCH_HEAD指向这个分支的提示(它存储提交的SHA1，就像分支一样)。 git pull然后调用git merge，将FETCH_HEAD合并到当前分支。</p>
<h2 id="团队协作中禁止的操作"><a href="#团队协作中禁止的操作" class="headerlink" title="团队协作中禁止的操作"></a><em>团队协作中禁止的操作</em></h2><ul>
<li>git push -f &lt;commit版本号&gt;</li>
<li>禁止向集成分支执行变更历史操作(变基操作)</li>
</ul>
<h2 id="如何在Github上找到想要的开源项目呢"><a href="#如何在Github上找到想要的开源项目呢" class="headerlink" title="如何在Github上找到想要的开源项目呢"></a>如何在Github上找到想要的开源项目呢</h2><p>进入<a href="https://github.com/search/advanced" target="_blank" rel="noopener">链接</a>： <a href="https://github.com/search/advanced" target="_blank" rel="noopener">https://github.com/search/advanced</a><br>或者在搜索栏空搜，<img src="/img/git-github/git的搜索功能.png" alt="git的搜索功能.png"><br>github的help中有教怎么用，或者看看这个<a href="https://zhuanlan.zhihu.com/p/55294261" target="_blank" rel="noopener">链接</a>吧.</p>

  </article>
  <aside class="table-content" id="site-toc">
  <div class="table-content-title">
    <i class="fa fa-arrow-right fa-lg" id="site-toc-hide-btn"></i>
    <span>目录</span>
  </div>
  <div class="table-content-main">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#分布式与集中式"><span class="toc-text">分布式与集中式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#git的使用"><span class="toc-text">git的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#git使用前的最小配置"><span class="toc-text">git使用前的最小配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#了解工作区，暂存区，历史版本库"><span class="toc-text">了解工作区，暂存区，历史版本库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#git是如何保存数据的"><span class="toc-text">git是如何保存数据的</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git文件"><span class="toc-text">.git文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git中文件的几种状态"><span class="toc-text">git中文件的几种状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git的常用操作"><span class="toc-text">git的常用操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-查看工作区状态"><span class="toc-text">1. 查看工作区状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-工作区提交到暂存区"><span class="toc-text">2. 工作区提交到暂存区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-暂存区提交到版本库"><span class="toc-text">3. 暂存区提交到版本库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-查看历史版本"><span class="toc-text">4. 查看历史版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-比较文件差异"><span class="toc-text">5. 比较文件差异</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-删除工作区和暂存区文件"><span class="toc-text">6. 删除工作区和暂存区文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-工作区同步与暂存区一样"><span class="toc-text">7. 工作区同步与暂存区一样</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-暂存区同步与历史版本库一样"><span class="toc-text">8. 暂存区同步与历史版本库一样</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-版本回溯"><span class="toc-text">9. 版本回溯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-合并分支"><span class="toc-text">10.  合并分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-修改工作区和暂存区文件名"><span class="toc-text">11. 修改工作区和暂存区文件名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-关于分支的操作"><span class="toc-text">12. 关于分支的操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-将多个commit整理成一个commit"><span class="toc-text">13. 将多个commit整理成一个commit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-消除最近的几个commit"><span class="toc-text">14. 消除最近的几个commit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-开发中如果紧急加塞怎么处理"><span class="toc-text">15. 开发中如果紧急加塞怎么处理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#多人协作以及GitHub的使用"><span class="toc-text">多人协作以及GitHub的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#git备份"><span class="toc-text">git备份</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多人协作"><span class="toc-text">多人协作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#git-clone的使用"><span class="toc-text">git clone的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-remote的使用"><span class="toc-text">git remote的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-fetch的使用"><span class="toc-text">git fetch的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-push的使用"><span class="toc-text">git push的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-pull的使用"><span class="toc-text">git pull的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第一次提交到非空GitHub仓库"><span class="toc-text">第一次提交到非空GitHub仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不同人的人修改了不同的文件"><span class="toc-text">不同人的人修改了不同的文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不同的人修改了相同文件的不同位置"><span class="toc-text">不同的人修改了相同文件的不同位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不同的人修改了相同文件的相同位置"><span class="toc-text">不同的人修改了相同文件的相同位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不同的人同时变更了文件名和文件内容"><span class="toc-text">不同的人同时变更了文件名和文件内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不同的人同时修改了文件名"><span class="toc-text">不同的人同时修改了文件名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FETCH-HEAD"><span class="toc-text">FETCH_HEAD</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#团队协作中禁止的操作"><span class="toc-text">团队协作中禁止的操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何在Github上找到想要的开源项目呢"><span class="toc-text">如何在Github上找到想要的开源项目呢</span></a></li></ol></li></ol>
  </div>
</aside>
  
  
    <div class="passage-tags">
     
      <a href="/tags/git-github/"><i class="fa fa-tags"></i>git&github</a>
    
    </div>
  
</div>

    </main>
	<!-- 页面点击小红心 -->
	<script type="text/javascript" src="/js/love.js"></script>

    
      
<div class="site-comment-contanier" data-plateform="leancloud">
  
    <p id="site-comment-info">
      <i class="fa fa-spinner fa-spin"></i> 评论加载中
    </p>
    <div id="site-comment"></div>
  
</div>
    
    <div class="site-footer-wrapper">
  <footer class="site-footer">
    
      
        <div class="site-footer-col">
          <h5 class="site-footer-title">博客推荐</h5>
          
            <span class="site-footer-item">
              <a href="https://me.csdn.net/dfgdgfbb/" target="_blank">王哥</a>
            </span>
          
            <span class="site-footer-item">
              <a href="https://blog.csdn.net/cx776474961/" target="_blank">cx</a>
            </span>
          
        </div>
      
    
    <div class="site-footer-info">
      <i class="fa fa-clock-o"></i> 本站已稳定运行<span id="site-time"></span>
    </div>
    
      <div class="site-footer-info">
        <i class="fa fa-paw"></i> 您是本站第 <span id="site-count"></span> 位访客
      </div>
    
    
      <div class="site-footer-info">
        <i class="fa fa-at"></i> Email: imsunchao@gmail.com
      </div>
    
    <div class="site-footer-info">
      <i class="fa fa-copyright"></i> 
      2019 <a href="https://github.com/dongyuanxin/theme-ad/" target="_blank">Theme-AD</a>.
      Created by <a href="https://godbmw.com/" target="_blank">GodBMW</a>.
      All rights reserved.
    </div>
  </footer>
</div>
    <div id="site-layer" style="display:none;">
  <div class="site-layer-content">
    <div class="site-layer-header">
      <span class="site-layer-header-title" id="site-layer-title"></span>
      <i class="fa fa-close" id="site-layer-close"></i>
    </div>
    <div class="site-layer-body" id="site-layer-container">
      <div class="site-layer-input" id="site-layer-search" style="display: none;">
        <div class="site-layer-input-choose">
          <a href="javascript:void(0);" title="Change Search Engine">Google</a>
        </div>
        <input type="text">
        <i class="fa fa-search"></i>
      </div>
      
        <div class="site-layer-reward" id="site-layer-reward" style="display: none;">
          
            <div>
              <img src="/images/wechat.png" alt="WeChat">
              
                <p>WeChat</p>
              
            </div>
          
            <div>
              <img src="/images/alipay.png" alt="AliPay">
              
                <p>AliPay</p>
              
            </div>
          
        </div>
      
      <div id="site-layer-welcome" style="display:none;"></div>
    </div>
  </div>
</div>
    

<div class="bottom-bar">
  <div class="bottom-bar-left">
    <a href="/初窥java反射.html" data-enable="true">
      <i class="fa fa-arrow-left"></i>
    </a>
    <a href="/mybatis-base4.html" data-enable="true">
      <i class="fa fa-arrow-right"></i>
    </a>
  </div>
  <div class="bottom-bar-right">
    <a href="javascript:void(0);" data-enable="true" id="site-toc-show-btn">
      <i class="fa fa-bars"></i>
    </a>
    
      <a href="#site-comment" data-enable="true">
        <i class="fa fa-commenting"></i>
      </a>
    
    <a href="javascript:void(0);" id="site-toggle-share-btn">
      <i class="fa fa-share-alt"></i>
    </a>
    
      <a href="javascript:void(0);" id="site-reward">
        <i class="fa fa-thumbs-up"></i>
      </a>
    
    <a href="javascript:void(0);" id="back-top-btn">
      <i class="fa fa-chevron-up"></i>
    </a>
  </div>
</div>
    <div id="share-btn">
  
    <a id="share-btn-twitter" href="javascript:void(0);" target="_blank">
      <i class="fa fa-twitter"></i>
    </a>
  
  
    <a id="share-btn-facebook" href="javascript:void(0);" target="_blank">
      <i class="fa fa-facebook"></i>
    </a>
  
  
    <a id="share-btn-weibo" href="javascript:void(0);" target="_blank">
      <i class="fa fa-weibo"></i>
    </a>
  
  
    <a id="share-btn-qq" href="javascript:void(0);" target="_blank">
      <i class="fa fa-qq"></i>
    </a>
  
  
    <a id="share-btn-wechat" href="javascript:void(0);" target="_blank">
      <i class="fa fa-wechat"></i>
    </a>
  
</div>
    


  <script async>
  (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();
  </script>




    
  </body>
</html>